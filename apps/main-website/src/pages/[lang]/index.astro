---
import type { GetStaticPaths } from "astro";
import Nav from "../../components/nav.astro";
import Header from "../../components/header.astro";
import { Footer } from "@svsticky/components";
import Layout from "../../components/layout.astro";

export const getStaticPaths = (() =>
    [{ params: { lang: "nl-NL" } }, { params: { lang: "en-US" } }]
) satisfies GetStaticPaths;

import { PayloadSDK } from "@payloadcms/sdk";
import { type Config } from "@svsticky/content";

const sdk = new PayloadSDK<Config>({
    baseURL: "http://localhost:4322/api",
    baseInit: {
        headers: {
            "Authorization": "users API-Key f7af8480-fecc-41bd-b534-0355d0181885"
        }
    }
});
const media = await sdk.find({ collection: "media" });
---

<Layout>
    <ul>
        {media.docs.map(m => <li><img src={`http://localhost:4322/${m.url}`} /></li>)}
    </ul>
    <!-- <Nav />
    <Header />
    <main>
        <h1>Welkom op de dikke <b>conjowebsite!</b></h1>
    </main>
    <Footer /> -->
</Layout>

<style lang="scss" is:global>

    p {
        margin-bottom: 1rem;
    }

    h1 {
        font-size: clamp(2rem, 5vw, 2.5rem);
        margin-top: 1rem;
        margin-bottom: 1rem;
    }
    h2 {
        font-size: clamp(1.75rem, 4.5vw, 2rem);
        margin-top: .5rem;
        margin-bottom: .5rem;
    }
    h3 {
        font-size: clamp(1.5rem, 4vw, 1.5rem);
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        hyphens: auto;

        > strong, > b {
            color: #61518f;
            font-weight: bold;
        }
    }

    a {
        color: #61518f;
    }

    /* PAGE LAYOUT STYLES */

    #signup ~ * {
        z-index: 20;
    }

    main {
        width: 90vw;
        max-width: 1200px;
        margin: 0 auto;
        overflow: visible;
        line-height: 1.4;
        color: #242424;

        > section {
            position: relative;
        }
    }

    @media screen and (min-width: 800px) {
        main {
            width: 75vw;
        }
    }

    li {
        p {
            margin-top: 0;
            margin-bottom: .5rem;
        }
    }

    html,body {
        margin: 0;
        padding: 0;
    }
</style>
